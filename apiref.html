

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; cerda 0.1.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/lowdown.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="cerda 0.1.1 documentation" href="index.html"/>
        <link rel="next" title="Releases" href="releases.html"/>
        <link rel="prev" title="Usage" href="usage.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cerda
          

          
            
            <img src="_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">cerda</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/apiref.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-cerda.farm_watcher">
<span id="api-reference"></span><span id="apiref"></span><h1>API Reference<a class="headerlink" href="#module-cerda.farm_watcher" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cerda.farm_watcher.FarmWatcher">
<em class="property">class </em><code class="descclassname">cerda.farm_watcher.</code><code class="descname">FarmWatcher</code><span class="sig-paren">(</span><em>username</em>, <em>password</em>, <em>rel_src_dir</em>, <em>rel_tar_dir</em>, <em>host='tete'</em>, <em>notify=None</em>, <em>client=None</em>, <em>custom_extensions=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.farm_watcher.FarmWatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Core class of the command line application. Handles or the file input
output operations.</p>
<dl class="method">
<dt id="cerda.farm_watcher.FarmWatcher.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>username</em>, <em>password</em>, <em>rel_src_dir</em>, <em>rel_tar_dir</em>, <em>host='tete'</em>, <em>notify=None</em>, <em>client=None</em>, <em>custom_extensions=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.farm_watcher.FarmWatcher.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Farm watcher constructor initializes a state parsed from arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) &#8211; local machine username. The i number, i.e. i7243466</li>
<li><strong>password</strong> (<em>str</em>) &#8211; password used to connect to the renderfarm server</li>
<li><strong>rel_src_dir</strong> (<em>str</em>) &#8211; renderfarm directory where frames will be dropped.
It needs to be relative to the home folder.</li>
<li><strong>rel_tar_dir</strong> (<em>str</em>) &#8211; target directory where to place the rendered images.
It needs to be relative to the home folder. If dropbox option is
passed it will go to that folder from the dropbox root.</li>
<li><strong>host</strong> (<em>str</em>) &#8211; host direction to connect to using sftp</li>
<li><strong>notify</strong> (<em>tuple</em>) &#8211; tuple (str, int) containing the email address to
send the email to and the number of frames that need to be
picked up before sending it.</li>
<li><strong>client</strong> (<em>obj</em>) &#8211; the Dropbox client instance
used to upload the files to the account. It has been initialized
already. It is ready to go.</li>
<li><strong>custom_extensions</strong> (<em>list</em>) &#8211; list of string in the form of [&#8216;.png&#8217;, &#8216;.jpeg&#8217;]
that will be intercepted by cerda and sent to the desired location.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cerda.farm_watcher.FarmWatcher.default_extensions">
<code class="descname">default_extensions</code><em class="property"> = ['.png', '.exr', '.jpg', '.jpeg', '.obj', '.bgeo', '.bgeo.sc', '.tiff']</em><a class="headerlink" href="#cerda.farm_watcher.FarmWatcher.default_extensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cerda.farm_watcher.FarmWatcher.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>sftp</em>, <em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.farm_watcher.FarmWatcher.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs all the I/O and logic operations on the current item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sftp</strong> (<em>obj</em>) &#8211; sftp connection object.</li>
<li><strong>item</strong> (<em>str</em>) &#8211; filename. The newly rendered file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cerda.farm_watcher.FarmWatcher.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>delay_seconds</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.farm_watcher.FarmWatcher.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the watcher in a demonized fashion. When there is a new file it
triggers a file processor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delay_seconds</strong> (<em>int</em>) &#8211; after checking if there is new files it will
sleep this amount of seconds before checking again.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-cerda.errors"></span><dl class="exception">
<dt id="cerda.errors.CerdaError">
<em class="property">exception </em><code class="descclassname">cerda.errors.</code><code class="descname">CerdaError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.errors.CerdaError" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out an error to the logger and exits the application.</p>
</dd></dl>

<span class="target" id="module-cerda.helpers"></span><dl class="function">
<dt id="cerda.helpers.dropbox_setup">
<code class="descclassname">cerda.helpers.</code><code class="descname">dropbox_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cerda.helpers.dropbox_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up a Dropbox client object that will be used to put the files on
the Dropbox account.</p>
<p>The first time it is run it will ask the user to allow this app through the
browser. The user will paste the authorization code and a token will get
generated. I am storing it under ~/.cerda/dbox_token.txt. This does not
contain any username or passwords, so the user is safe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Initialized Dropbox client object</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">obj</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cerda.helpers.email_sender">
<code class="descclassname">cerda.helpers.</code><code class="descname">email_sender</code><span class="sig-paren">(</span><em>email_address</em>, <em>wd</em>, <em>processed_items</em>, <em>attach_previews=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.helpers.email_sender" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an email and the list of rendered items it sends an email using
Google&#8217;s SMTP servers. The email will come from <a class="reference external" href="mailto:cerdancca&#37;&#52;&#48;gmail&#46;com">cerdancca<span>&#64;</span>gmail<span>&#46;</span>com</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>email_address</strong> (<em>str</em>) &#8211; address to send the email to.</li>
<li><strong>wd</strong> (<em>str</em>) &#8211; working directory</li>
<li><strong>processed_items</strong> (<em>list</em>) &#8211; list of rendered item file names.</li>
<li><strong>attach_previews</strong> (<em>bool</em>) &#8211; if need to attach preview images</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cerda.helpers.get_abs_form_rel">
<code class="descclassname">cerda.helpers.</code><code class="descname">get_abs_form_rel</code><span class="sig-paren">(</span><em>rel_dir</em>, <em>username</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.helpers.get_abs_form_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a relative folder it expands the current user home folder thus
constructing an absolute path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rel_dir</strong> (<em>str</em>) &#8211; relative path.</li>
<li><strong>username</strong> (<em>str</em>) &#8211; self explanatory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Absolute path.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cerda.helpers.is_render_finished">
<code class="descclassname">cerda.helpers.</code><code class="descname">is_render_finished</code><span class="sig-paren">(</span><em>sftp</em>, <em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.helpers.is_render_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the render has been finished by checking if there is
a file with the same name with .mantra_checkpoint appended to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sftp</strong> (<em>obj</em>) &#8211; sftp connection object.</li>
<li><strong>item</strong> (<em>str</em>) &#8211; name of file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Whether render is completed or not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cerda.helpers.parse_args">
<code class="descclassname">cerda.helpers.</code><code class="descname">parse_args</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.helpers.parse_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing and validation of all the user supplied arguments.</p>
<p>It will make sure that if user passes email or count passes both, as both
are needed. Also will validate the time delay for checking for new frames as
it cannot be negative, and same for the count value, it doesn&#8217;t make sense
values of 0 or lower.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>list</em>) &#8211; list containing a representation of the command typed by
the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tuple with the parsed username (string), password (string),
relative source and target paths (string), email, count (int),
client (dropbox.client.DropboxClient), every (int).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cerda.helpers.validate_path">
<code class="descclassname">cerda.helpers.</code><code class="descname">validate_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cerda.helpers.validate_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the input path for source or targets given a relative path string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) &#8211; relative path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="releases.html" class="btn btn-neutral float-right" title="Releases" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usage.html" class="btn btn-neutral" title="Usage" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Ramon Blanquer.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>